<!doctype html>
<html lang="en" class="no-js">
<link rel="stylesheet" href="css/stylesheet.css" >
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://weebweeb.github.io/saveMigrate/" />
    <title>saveMigrate</title>
    <meta name="description" content="DataStore2 Migration Simplified">
   
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/sticky-menu.css" rel="stylesheet">
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle menu</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">saveMigrate</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#functions">Functions</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#instances">Instances</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#contact">Contact</a>
                    </li>
                </ul>
            </div>	<!-- .navbar-collapse -->
        </div>		<!-- .container -->
    </nav>
    <!-- Welcome   -->
    <section id="welcome" class="welcome-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>saveMigrate</h1>
                    <p> <font size="+1"> a centralized saving module for roblox games, intended to make transition between legacy Datastore and DataStore2 save systems as painless as possible and with minimal data loss </font> </p>
					<p>&nbsp;</p>
                    <a class="btn btn-primary page-scroll" href="#functions">Learn More </a>
                </div>
            </div>
        </div>
    </section>

    <section id="functions" class="about-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Functions</h1>
                    
                   <div class="panel panel-default">
  			<div class="panel-heading"> 
				<font size="+1"> <i> <span style = "color:red"> Variant </span> </i>  GetAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, <i> <span style = "color:red"> GlobalDataStore </span> </i> <i> <span style = "color:blue"> Store </span> </i> , <i> <span style = "color:red"> Player </span> </i> <i> <span style = "color:blue"> Player </span> </i>, ...)</div> </font>
			   <div class="panel-body">returns <i>Value</i> from <i> Key</i>. Prefers DataStore2, if <i>Player</i> is nil then it will strictly use legacy DataStores. If <i> Store </i> is nil then it will strictly use Datastore2. If both <i> Store </i> and <i> Player</i> are defined, and a DataStore2 does not exist, then it will attempt to load from a legacy Datastore</div>
		</div>
		
			  <div class="panel panel-default">
  			<div class="panel-heading"> 
				<font size="+1"> <i> <span style = "color:red"> Variant </span> </i>  SetAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, <i> <span style = "color:red"> variant </span> </i> <span style = "color:blue"> Value </span>, <i> <span style = "color:red"> GlobalDataStore </span> </i> <i> <span style = "color:blue"> Store </span> </i> , <i> <span style = "color:red"> Player </span> </i> <i> <span style = "color:blue"> Player </span> </i>, ...)</div> </font>
				  <div class="panel-body">sets <i>Key</i> to <i>Value</i>. Prefers DataStore2, if <i>Player</i> is nil then it will strictly use legacy DataStores. If <i> Store </i> is nil then it will strictly use Datastore2. If both <i> Store </i> and <i> Player</i> are defined, and a DataStore2 does not exist, then it will attempt to load from a legacy Datastore</div>
		</div>
                      <div class="panel panel-default">
  			<div class="panel-heading"> 
				<font size="+1"> <i> <span style = "color:red"> Variant </span> </i>  GetDataStore( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> name </span>, <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> scope </span>, <i> <span style = "color:red"> Player </span> </i> <i> <span style = "color:blue"> Player </span> </i> , ...)</div> </font>
				  <div class="panel-body">
	<p> Returns a <i> migrationManager </i> instance similar to Roblox's GlobalDataStore instance. Said instance will reference either a GlobalDataStore or a DataStore2 instance while saving/loading depending on the arguments given. If <i> Player </i> is undefined then it will strictly use legacy Datastores, if <i> name </i> is undefined then it will strictly use DataStore2. </p>

	<p> However, if both <i> name</i> and <i> Player</i> are given, the module will load from the legacy datastore and save to the Datastore2 when possible under the <i> Player</i> object.</p>
		</div>
			      
			      
		</div>   
                </div>
            </div>
        </div>
    </section>

    
    <section id="instances" class="whatwedo-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Instances</h1>
			 <div class="panel panel-default">
			<div class="panel-heading"> <font size="+2"> migrationManager</font> </div>
			<div class="panel-body"> 
				 <div class = "panel panel-default">
					 
					 <div class "panel-heading"><font size="+1"><i> <span style = "color:red"> Variant </span> </i>  <span style = "color:red">migrationManager</span>:GetAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, ...)	</font> </div>
					 <div class "panel-body">returns <i> Value </i>  from <i> Key </i>. Prefers DataStore2, uses <i>Player</i>, <i>name</i> and <i>scope</i> values from migrationManager instance. </div>
				</div>
				<div class = "panel panel-default">
					 
					 <div class "panel-heading"><font size="+1"><i> <span style = "color:red"> Variant </span> </i>  <span style = "color:red">migrationManager</span>:SetAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, <i> <span style = "color:red"> variant </span> </i> <span style = "color:blue"> Value </span>, ...)	</font> </div>
					<div class "panel-body">sets <i> Key </i> to <i>Value</i>, returns the updated Value. prefers Datastore2. Uses <i>Player</i>, <i>name</i> and <i>scope</i> values from migrationManager instance. </div>
				</div>
				<div class = "panel panel-default">
					 
					 <div class "panel-heading"><font size="+1"><i> <span style = "color:red"> Variant </span> </i>  <span style = "color:red">migrationManager</span>:RemoveAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, ...)	</font> </div>
					<div class "panel-body">Sets the Value of <i> Key</i> to a blank string ("") and returns the value it was set as, prefers Datastore2. Uses <i>Player</i>, <i>name</i> and <i>scope</i> values from migrationManager instance. </div>
				</div>
				<div class = "panel panel-default">
					 
					 <div class "panel-heading"><font size="+1"><i> <span style = "color:red"> Variant </span> </i>  <span style = "color:red">migrationManager</span>:IncrementAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, <i> <span style = "color:red"> number </span> </i> <span style = "color:blue"> Delta </span>, ...)	</font> </div>
					<div class "panel-body">adds <i>Delta</i> to the existing value under <i>Key</i> and returns the changed value. prefers Datastore2. Uses <i>Player</i>, <i>name</i> and <i>scope</i> values from migrationManager instance. </div>
				</div>
				<div class = "panel panel-default">
					 
					 <div class "panel-heading"><font size="+1"><i> <span style = "color:red"> Variant </span> </i>  <span style = "color:red">migrationManager</span>:UpdateAsync( <i> <span style = "color:red"> string </span> </i> <span style = "color:blue"> Key </span>, <i> <span style = "color:red"> callbackFunction </span> </i> <span style = "color:blue"> fun </span>, ...)	</font> </div>
					<div class "panel-body">
<p> This function is functionally the same as Roblox's GlobalDataStore:UpdateAsync() </p> -

<p> This function will update the value of <i>Key</i> with the new value returned by callback function fun(). Uses <i>player</i>, <i>name</i> and <i>scope</i> values from migrationManager instance.

<p> Callback function fun() will be called with the value of <i>Key</i> as parameters, expecting a returned value to update the key with. 
<p> In the event that the save fails (eg: another server is saving to the datastore at the same time,etc), updateAsync will preform a "Reliable Delivery" - this means it will continue to try to save the data until it is successful. Once it is successful it will return the updated value. </p>


<p style = "color:red">
Notice - if fun or Key is nil then UpdateAsync will return nil and abort </p>
						
<p style = "color:red"> fun() should not yield, do not call wait() or delay() when defining it!</p></div>
				</div>
			</div>	
			</div>
			
			
                </div>
            </div>
        </div>
    </section>

   
    <section id="contact" class="contact-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Contact Section</h1>
                </div>
            </div>
        </div>
    </section>
	
	<a id="back2Top" title="Back to top" href="#">&#10148;</a>
	
    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Scrolling Nav JavaScript -->
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/sticky-menu.js"></script>

</body>

</html>

.

